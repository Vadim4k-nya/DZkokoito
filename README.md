1. [–ó–∞–¥–∞—á–∞ 1](#–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 1: –ü–æ—á–µ–º—É –≤—ã–≤–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—à–∞–Ω)
2. [–ó–∞–¥–∞—á–∞ 2](#–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 2: –ü–æ—á–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 2000 –∏ –∫–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)
3. [–ó–∞–¥–∞—á–∞ 3](#–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 3: –ò–º–∏—Ç–∞—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞ —Å `ReentrantLock`)

## –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 1: –ü–æ—á–µ–º—É –≤—ã–≤–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—à–∞–Ω

–í –ó–∞–¥–∞—á–µ 1, –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–≤–∞ –ø–æ—Ç–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–ª–∞—Å—Å `MyThread`, –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—à–∞—Ç—å—Å—è. –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–∏ –ø–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** –∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ **–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ** –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ ü§Øü§Øü§Øü§Ø!

–ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ `MyThread` –≤ —Å–≤–æ–µ–º —Ä–æ–¥–µ "—Å—á–∏—Ç–∞–µ—Ç –¥–æ –¥–µ—Å—è—Ç–∏", –≤—ã–≤–æ–¥—è —á–∏—Å–ª–∞ –ø–æ –æ–¥–Ω–æ–º—É –∏ –¥–µ–ª–∞—è –ø–∞—É–∑—É –≤ –ø–æ–ª—Å–µ–∫—É–Ω–¥—ã. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ—Ç–æ–∫–æ–≤ Java —Ä–µ—à–∞–µ—Ç, –∫–æ–º—É —Å–µ–π—á–∞—Å "–¥–∞–≤–∞—Ç—å —Å–ª–æ–≤–æ" –∏ –Ω–∞ —Å–∫–æ–ª—å–∫–æ. –¢–∞–∫ —á—Ç–æ –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –∑–∞–∫–æ–Ω—á–∏—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É, –ø—Ä–µ–∂–¥–µ —á–µ–º –¥—Ä—É–≥–æ–π –Ω–∞—á–Ω–µ—Ç –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å–≤–æ–µ –¥–µ–ª–æ!

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ —Ç–∞–∫–æ–µ:

```
–ü–æ—Ç–æ–∫ 1: 1
–ü–æ—Ç–æ–∫ 2: 1
–ü–æ—Ç–æ–∫ 1: 2
–ü–æ—Ç–æ–∫ 2: 2
–ü–æ—Ç–æ–∫ 1: 3
...

```

–ò–ª–∏ –≤–æ—Ç —Ç–∞–∫:

```
–ü–æ—Ç–æ–∫ 2: 1
–ü–æ—Ç–æ–∫ 1: 1
–ü–æ—Ç–æ–∫ 2: 2
–ü–æ—Ç–æ–∫ 1: 2
–ü–æ—Ç–æ–∫ 1: 3
–ü–æ—Ç–æ–∫ 2: 3
...

```

–≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –º–æ–≥—É—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –µ—Å–ª–∏ –∏—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–µ "–ø–æ–¥—Ä—É–∂–∏—Ç—å" –∏–ª–∏ –Ω–µ –∑–∞–¥–∞—Ç—å –∏–º —Å—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫. –ü–æ —Å—É—Ç–∏, –æ–±–∞ –ø–æ—Ç–æ–∫–∞ –ø—ã—Ç–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –∫–æ–Ω—Å–æ–ª–∏, —á—Ç–æ–±—ã —á—Ç–æ-—Ç–æ –≤—ã–≤–µ—Å—Ç–∏, –∏ –∫—Ç–æ –ø–µ—Ä–≤—ã–º —É—Å–ø–µ–µ—Ç, —Ä–µ—à–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ—Ç–æ–∫–æ–≤.

---

## –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 2: –ü–æ—á–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 2000 –∏ –∫–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

**–ü–æ—á–µ–º—É —Å—á–µ—Ç—á–∏–∫ –º–æ–∂–µ—Ç "–≤—Ä–∞—Ç—å" (–±–µ–∑ `synchronized`)**

–ú—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ (`SyncThread-1` –∏ `SyncThread-2`), –∏ –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö 1000 —Ä–∞–∑ –ø—ã—Ç–∞–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `count` –Ω–∞ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ —Å—á–µ—Ç—á–∏–∫–µ. –ù–æ –±–µ–∑ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ —Å–ª–æ–≤–∞ (–Ω–µ—Ç –Ω–µ `–ø–æ–∂–∞–ª—É–π—Å—Ç–∞üëâüëà`, –∞) `synchronized` —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–∞—Å—Ç–µ–Ω—å–∫–æ –±—É–¥–µ—Ç –º–µ–Ω—å—à–µ!

–û–ø–µ—Ä–∞—Ü–∏—è `count++` –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ü–µ–ª–∞—è –∫—É—á–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —à–∞–≥–æ–≤:
1. **–ü–æ—Ç–æ–∫ —Å—á–∏—Ç—ã–≤–∞–µ—Ç** —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `count`.
2. **–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç** –µ–≥–æ.
3. **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç** –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ `count`.

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ `count` —Å–µ–π—á–∞—Å 500:
- **–ü–æ—Ç–æ–∫ –ê** —á–∏—Ç–∞–µ—Ç `count` (–ø–æ–ª—É—á–∞–µ—Ç 500). –û–≥–æ!
- –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç "–¥–∏—Ä–∏–∂–µ—Ä" –ø–æ—Ç–æ–∫–æ–≤ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ **–ü–æ—Ç–æ–∫ B**.
- **–ü–æ—Ç–æ–∫ B** —Ç–æ–∂–µ —á–∏—Ç–∞–µ—Ç `count` (–∏ —Ç–æ–∂–µ –ø–æ–ª—É—á–∞–µ—Ç 500). –ù—É –Ω–∞–¥–æ –∂–µ!
- **–ü–æ—Ç–æ–∫ B** —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 501).
- **–ü–æ—Ç–æ–∫ B** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç 501 –æ–±—Ä–∞—Ç–Ω–æ –≤ `count`. –¢–µ–ø–µ—Ä—å `count` —Ä–∞–≤–µ–Ω 501.
- "–î–∏—Ä–∏–∂–µ—Ä" —Å–Ω–æ–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ **–ü–æ—Ç–æ–∫—É –ê**.
- **–ü–æ—Ç–æ–∫ –ê** –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 501).
- **–ü–æ—Ç–æ–∫ –ê** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç 501 –æ–±—Ä–∞—Ç–Ω–æ –≤ `count`. –ë–∞—Ü! `count` –≤—Å–µ –µ—â–µ 501.

–•–æ—Ç—è –æ–±–∞ –ø–æ—Ç–æ–∫–∞ "–ø–æ—Å—Ç–∞—Ä–∞–ª–∏—Å—å" —É–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫, –æ–Ω –≤—ã—Ä–æ—Å –≤—Å–µ–≥–æ –Ω–∞ 1, –∞ –Ω–µ –Ω–∞ 2. –û–¥–Ω–∞ –∏–∑ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞—Ü–∏–π –ø—Ä–æ—Å—Ç–æ "–ø–æ—Ç–µ—Ä—è–ª–∞—Å—å"! –¢–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–æ—Ç–æ–∫–∏ –Ω–µ "–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å" –º–µ–∂–¥—É —Å–æ–±–æ–π –∏ –º–æ–≥—É—Ç –º–µ—à–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

–ß—Ç–æ–±—ã –Ω–∞—à —Å—á–µ—Ç—á–∏–∫ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª 2000, –Ω—É–∂–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ç–æ–∫–∏ "–∂–¥–∞—Ç—å —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏" –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –º–µ—Ç–æ–¥—É `increment()`. –¢—É—Ç-—Ç–æ –Ω–∞–º –∏ –ø–æ–º–æ–∂–µ—Ç –≤–æ–ª—à–µ–±–Ω–æ–µ —Å–ª–æ–≤–æ `synchronized`:

```
public synchronized void increment() {
    count++;
}
```

–ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `synchronized`, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫** –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ. –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ —É–∂–µ –≤–æ—à–µ–ª –≤ `synchronized` –º–µ—Ç–æ–¥, –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Ç—É–¥–∞ –ø–æ–ø–∞—Å—Ç—å (–∏–ª–∏ –≤ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π `synchronized` –º–µ—Ç–æ–¥ –Ω–∞ _—Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ_), –±—É–¥–µ—Ç —Ç–µ—Ä–ø–µ–ª–∏–≤–æ –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –ø–µ—Ä–≤—ã–π –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç –∏ –Ω–µ "–≤—ã–π–¥–µ—Ç" –æ—Ç—Ç—É–¥–∞.

---

## –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ó–∞–¥–∞—á–∏ 3: –ò–º–∏—Ç–∞—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞ —Å `ReentrantLock`

–î–µ–ª–∞–µ–º –º–∏–Ω–∏-–±–∞–Ω–∫ –≤ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ! –¢—É—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –±—É–¥—É—Ç '–∏–≥—Ä–∞—Ç—å' –≤ –∫–ª–∏–µ–Ω—Ç–æ–≤: –∫—Ç–æ-—Ç–æ –∫–ª–∞–¥–µ—Ç –¥–µ–Ω–µ–∂–∫–∏, –∫—Ç–æ-—Ç–æ —Å–Ω–∏–º–∞–µ—Ç. –ê –≥–ª–∞–≤–Ω–æ–µ –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏, –∫–æ–≥–¥–∞ –≤—Å–µ –ª–µ–∑—É—Ç –∫ –±–∞–ª–∞–Ω—Å—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ! –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—Ä—É—Ç—É—é —à—Ç—É–∫—É ‚Äî `ReentrantLock`.

**–ö–ª–∞—Å—Å `BankAccount` ‚Äî –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π!**
- **`balance`**: –ù—É, —ç—Ç–æ –Ω–∞—à –±–∞–ª–∞–Ω—Å, –∫–æ–Ω–µ—á–Ω–æ! –¶–∏—Ñ–µ—Ä–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –Ω–∞ —Å—á–µ—Ç—É. –ò –≤–æ—Ç –∫ –Ω–µ–π-—Ç–æ –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –∏ –±—É–¥—É—Ç —Ä–≤–∞—Ç—å—Å—è!
- **`lock`**: –ê —ç—Ç–æ –Ω–∞—à "–≤—ã—à–∏–±–∞–ª–∞" ‚Äî `ReentrantLock`! –û–Ω –≥–æ—Ä–∞–∑–¥–æ –∫—Ä—É—á–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ `synchronized` (—Ö–æ—Ç—è –∏ —Ç–æ—Ç —Ö–æ—Ä–æ—à!), –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–µ—Ç –Ω–∞–º –±–æ–ª—å—à–µ —Å–≤–æ–±–æ–¥—ã –≤ —Ç–æ–º, –∫–∞–∫ –∏ —á—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å.
- **–ú–µ—Ç–æ–¥—ã `deposit(int amount)` –∏ `withdraw(int amount)` (–ø–æ–ª–æ–∂–∏—Ç—å/—Å–Ω—è—Ç—å –¥–µ–Ω–µ–∂–∫–∏):**
    - –ü—Ä–µ–∂–¥–µ —á–µ–º –º–µ–Ω—è—Ç—å –±–∞–ª–∞–Ω—Å, –º—ã –≥–æ–≤–æ—Ä–∏–º: '–≠–π, `lock.lock()`!' –≠—Ç–æ –∫–∞–∫ –∑–∞–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å –≤ –∫–æ–º–Ω–∞—Ç—É, –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –±–∞–ª–∞–Ω—Å. –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ —É–∂–µ –≤–Ω—É—Ç—Ä–∏, –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –ø–æ–¥–æ–∂–¥—É—Ç!
    - **–û–æ–æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç!** `lock.unlock()` –º—ã –≤—ã–∑—ã–≤–∞–µ–º –≤—Å–µ–≥–¥–∞, –≤ –±–ª–æ–∫–µ `finally`. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ _–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ_, —á—Ç–æ–±—ã –¥–≤–µ—Ä—å –æ—Ç–∫—Ä—ã–ª–∞—Å—å –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫! –ê —Ç–æ –µ—Å–ª–∏ –µ–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç—å, –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ —Ç–∞–∫ –∏ –∑–∞–≤–∏—Å–Ω—É—Ç, –±–µ–¥–æ–ª–∞–≥–∏!
    - –ö—Å—Ç–∞—Ç–∏, –≤ –º–µ—Ç–æ–¥–µ `withdraw` –º—ã –µ—â–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –∞ –µ—Å—Ç—å –ª–∏ –≤–æ–æ–±—â–µ —Å—Ç–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –Ω–∞ —Å—á–µ—Ç—É, –ø—Ä–µ–∂–¥–µ —á–µ–º –∏—Ö —Å–Ω–∏–º–∞—Ç—å. –õ–æ–≥–∏—á–Ω–æ –∂–µ!

**–ö–ª–∞—Å—Å `AccountThread` ‚Äî —ç—Ç–æ –Ω–∞—à–∏ "–∫–ª–∏–µ–Ω—Ç—ã"!**
- –û–Ω —É–º–µ–µ—Ç '–±–µ–≥–∞—Ç—å' –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `Runnable`.
- –í –º–µ—Ç–æ–¥–µ `run()` –∫–∞–∂–¥—ã–π —Ç–∞–∫–æ–π "–∫–ª–∏–µ–Ω—Ç" –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —Å–≤–æ–∏ –¥–µ–ª–∞ (–ø–æ–ø–æ–ª–Ω—è—Ç—å –∏–ª–∏ —Å–Ω–∏–º–∞—Ç—å) —Å–∫–æ–ª—å–∫–æ-—Ç–æ —Ä–∞–∑, —Ä–∞–±–æ—Ç–∞—è —Å _–æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ_ –Ω–∞—à–∏–º `BankAccount`.
- –°—É–º–º—ã –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å (–ø–æ–ª–æ–∂–∏—Ç—å –∏–ª–∏ —Å–Ω—è—Ç—å) –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –Ω–∞–æ–±—É–º ‚Äî —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–∏–¥—è—Ç –Ω–∞ –º–µ—Å—Ç–µ!
- –ò, –∫–æ–Ω–µ—á–Ω–æ, –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ —Å–ª—É—á–∞–π–Ω—ã–µ –ø–∞—É–∑—ã (`Thread.sleep`). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—à—É —Å–∏–º—É–ª—è—Ü–∏—é –∂–∏–≤–µ–µ, –∏ –±–µ–∑ `ReentrantLock` —Ç—É—Ç –±—ã–ª –±—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —Ö–∞–æ—Å! –ù–æ —Å –Ω–∏–º-—Ç–æ –≤—Å–µ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º, —É—Ä–∞!

**–ö–ª–∞—Å—Å `Main` ‚Äî –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä!**
- –ó–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–∞—à –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π `BankAccount`.
- –ü–æ—Ç–æ–º –∑–∞–≤–æ–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ (–Ω—É, —Ç—Ä–∏!) "–∫–ª–∏–µ–Ω—Ç–æ–≤" (`AccountThread`), –∏ –≤—Å–µ –æ–Ω–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å _–æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ_ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º —Å—á–µ—Ç–æ–º!
- –ó–∞–ø—É—Å–∫–∞–µ–º –∏—Ö –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–æ–π `thread.start()`!
- –ò –≤–æ—Ç —Ç—É—Ç —Ö–∏—Ç—Ä–æ—Å—Ç—å: –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `thread.join()`, —á—Ç–æ–±—ã –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ "–ø–æ–¥–æ–∂–¥–∞–ª", –ø–æ–∫–∞ –≤—Å–µ "–∫–ª–∏–µ–Ω—Ç—ã" –∑–∞–∫–æ–Ω—á–∞—Ç —Å–≤–æ–∏ –¥–µ–ª–∞. –ê —Ç–æ –≤–¥—Ä—É–≥ –æ–Ω –≤—ã–≤–µ–¥–µ—Ç –±–∞–ª–∞–Ω—Å, –ø–æ–∫–∞ –æ–Ω–∏ –µ—â–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–µ–ª–∞—é—Ç? –ù–µ–ø–æ—Ä—è–¥–æ–∫!
- –ò —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ —É—Ç–∏—Ö–Ω–µ—Ç, –º—ã –≤—ã–≤–æ–¥–∏–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å. –í–æ—Ç —Ç–∞–∫!

**–ö–∞–∫ `ReentrantLock` —Ä–∞–∑—Ä—É–ª–∏–≤–∞–µ—Ç –≤—Å—é —ç—Ç—É '–≥–æ–Ω–∫—É':**

`ReentrantLock` ‚Äî —ç—Ç–æ –∫–∞–∫ –ø—Ä–æ–ø—É—Å–∫! –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –µ–≥–æ –≤ —Ä—É–∫–∞—Ö –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –ö–æ–≥–¥–∞ –ø–æ—Ç–æ–∫ –≥–æ–≤–æ—Ä–∏—Ç `lock.lock()`, –æ–Ω '–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç' —ç—Ç–æ—Ç –ø—Ä–æ–ø—É—Å–∫. –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ö–≤–∞—Ç–∏—Ç—å –µ–≥–æ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ —Å–∫–∞–∂–µ—Ç `lock.unlock()` (—Ç–æ –µ—Å—Ç—å, –æ—Ç–ø—É—Å—Ç–∏—Ç –ø—Ä–æ–ø—É—Å–∫), —Ç–æ –≤—Ç–æ—Ä–æ–º—É –ø–æ—Ç–æ–∫—É –ø—Ä–∏–¥–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è—Ç—å –≤ —Å—Ç–æ—Ä–æ–Ω–∫–µ –∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å! –≠—Ç–æ —Å—É–ø–µ—Ä–≤–∞–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ –Ω–∞—à–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ `deposit` –∏ `withdraw` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è "–Ω–µ–¥–µ–ª–∏–º—ã–º–∏" ‚Äî –∏—Ö –Ω–µ–ª—å–∑—è –ø—Ä–µ—Ä–≤–∞—Ç—å! –ò –Ω–∏–∫–∞–∫–æ–≥–æ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º!
